(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Index"],{"0662":function(t,e,i){"use strict";var n=i("93df"),s=i.n(n);s.a},1598:function(t,e,i){"use strict";var n=i("6ee6"),s=i.n(n);s.a},1640:function(t,e,i){},"25d5":function(t,e,i){"use strict";var n=i("6ffb"),s=i.n(n);s.a},"2ab6":function(t,e,i){t.exports=i.p+"img/index-locate-fail.26764f19.gif"},"2df6":function(t,e,i){"use strict";var n=i("e933"),s=i.n(n);s.a},"2e90":function(t,e,i){"use strict";var n=i("d1b4"),s=i.n(n);s.a},3391:function(t,e,i){"use strict";var n=i("a3c4"),s=i.n(n);s.a},4177:function(t,e,i){"use strict";var n=i("f0eb"),s=i.n(n);s.a},"43be":function(t,e,i){"use strict";var n=i("9499"),s=i.n(n);s.a},4469:function(t,e,i){"use strict";var n=i("4cfd"),s=i.n(n);s.a},4732:function(t,e){var i=function(){return document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)}}(),n=function(){return document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)}}(),s=function(t,e,s){var a=function(){s&&s.apply(this,arguments),n(t,e,a)};i(t,e,a)};t.exports={on:i,off:n,once:s}},"4cfd":function(t,e,i){},"53ba":function(t,e,i){},5586:function(t,e,i){"use strict";var n=i("9ee9"),s=i.n(n);s.a},"5e71":function(t,e,i){},"5fa4":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Page",{staticClass:"p-index",attrs:{header:!1,tabbar:"index"}},[n("div",[t.loaded?t._e():n("IndexSkeleton",{staticClass:"p-index__loading",attrs:{headerLoaded:t.locState>0,entriesLoaded:t.entriesLoaded,listLoaded:t.listLoaded}}),n("IndexHeader",{attrs:{"location-name":t.location.locationName,locating:0===t.locState,detecting:1===t.locState},on:{"click:address":t.chooseAddress}}),n("IndexSearch"),3!==t.locState?[t.entryGroupMap.main?n("IndexMainEntries",{attrs:{entries:t.entryGroupMap.main.entries}}):t._e(),n("div",{staticClass:"p-index__banner-mics-wrap"},[n("div",{staticClass:"p-index__activity-entries"},[n("div",{staticClass:"p-index__activity-entry",class:{"p-index__activity-entry_only":!t.favourEntries||!t.favourEntries.length}},[n("h3",{staticClass:"p-index__activity-entry-title"},[t._v("品质套餐")]),n("div",{staticClass:"p-index__activity-entry-desc"},[t._v("搭配齐全吃得好")]),n("div",{staticClass:"p-index__activity-entry-go"},[t._v("立即抢购 >")]),n("img",{attrs:{src:t.$getImage("dd416ff085900d62b8d60fa7e9c6b65dpng","?imageMogr/format/webp/thumbnail/!240x160r/gravity/Center/crop/240x160/"),alt:""}})]),t._l(t.favourEntries,function(e){return n("div",{key:e.id,staticClass:"p-index__activity-entry p-index__favour-entry"},[n("h3",{staticClass:"p-index__activity-entry-title"},[t._v(t._s(e.name))]),n("div",{staticClass:"p-index__activity-entry-desc"},[t._v(t._s(e.description))]),n("div",{staticClass:"p-index__activity-entry-go"},[n("span",{staticClass:"p-index__activity-entry-population"},[t._v(t._s(e.population))]),t._v(" 正在抢 >\n            ")]),n("img",{attrs:{src:t.$getImage(e.image_hash,t.favourImgParam),alt:""}})])})],2),n("IndexBanners",{attrs:{banners:t.bannerList}})],1),t.listLoaded?[n("div",{staticClass:"p-index__shoplist-title"},[t._v("推荐商家")]),n("IndexShopListFilter",{ref:"filter",attrs:{filterOptions:t.filterOptions},on:{submit:t.onSubmitFilters}}),n("IndexShopList",{ref:"infinite",attrs:{items:t.restaurantList,state:t.restaurantListState},on:{infinite:t.onInifiniteScroll}})]:t._e()]:t._e()],2),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.backTopVisible,expression:"backTopVisible"}],staticClass:"p-index__back-top",on:{click:t.onBackTop}},[n("img",{attrs:{src:i("e6d9"),alt:""}})])]),3===t.locState?n("div",{staticClass:"p-index__locate-fail"},[n("img",{attrs:{src:i("2ab6"),alt:""}}),n("h3",[t._v("输入地址后才能订餐哦！")]),n("button",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.chooseAddress(e)}}},[t._v("手动选择地址")])]):t._e()],1)},s=[],a=i("a322"),r=(i("7f7f"),i("ac6a"),i("c93e")),o=i("2f62"),l=i("408b"),c=i("8e17"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"shell"},[i("header",{staticClass:"shell__header",style:{visibility:t.headerLoaded?"hidden":"visible"}}),i("div",{staticClass:"shell__entries",style:{visibility:t.entriesLoaded?"hidden":"visible"}},[i("div",{staticClass:"shellAnimation b-index-entries__entries"},t._l(10,function(t){return i("div",{key:t,staticClass:"b-index-entries_entry"},[i("div",{staticClass:"b-index-entries_entry-icon"}),i("p",{staticClass:"b-index-entries_entry-title"})])}))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.listLoaded,expression:"!listLoaded"}],staticClass:"shell__list"})])},u=[],f={name:"IndexSkeleton",components:{},props:{headerLoaded:Boolean,entriesLoaded:Boolean,listLoaded:Boolean},data:function(){return{}},computed:{visible:function(){return!this.headerLoaded||!this.entriesLoaded||!this.listLoaded}}},h=f,p=(i("865f"),i("2877")),v=Object(p["a"])(h,d,u,!1,null,"4f886a19",null);v.options.__file="IndexSkeleton.vue";var m=v.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"b-header b-header__box"},[i("div",{staticClass:"b-header__content"},[i("div",{staticClass:"b-header__address",on:{click:t.onClickAddress}},[i("svg",{staticClass:"b-header__location-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 31"}},[i("path",{attrs:{fill:"#FFF","fill-rule":"evenodd",d:"M22.116 22.601c-2.329 2.804-7.669 7.827-7.669 7.827-.799.762-2.094.763-2.897-.008 0 0-5.26-4.97-7.643-7.796C1.524 19.8 0 16.89 0 13.194 0 5.908 5.82 0 13 0s13 5.907 13 13.195c0 3.682-1.554 6.602-3.884 9.406zM18 13a5 5 0 1 0-10 0 5 5 0 0 0 10 0z"}})]),i("span",{staticClass:"b-header__address-text ellipsis"},[t._v("\n        "+t._s(t.addressText)+"\n      ")]),i("svg",{staticClass:"b-header__dropdown-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 8"}},[i("path",{attrs:{fill:"#FFF","fill-rule":"evenodd",d:"M5.588 6.588c.78.78 2.04.784 2.824 0l5.176-5.176c.78-.78.517-1.412-.582-1.412H.994C-.107 0-.372.628.412 1.412l5.176 5.176z"}})])])])])},_=[],b=!1,y={name:"IndexHeader",components:{},props:{locationName:{type:String},detecting:{type:Boolean,default:!1},locating:{type:Boolean,default:!1}},data:function(){return{detectingText:"正在识别地址...",locatingText:"正在定位...",unknownText:"未知地址"}},computed:{addressText:function(){return this.locating?this.locatingText:this.detecting?this.detectingText:this.locationName||this.unknownText}},created:function(){b&&(window[this.$options.name]=this)},methods:{onClickAddress:function(){this.$emit("click:address")}}},x=y,w=(i("5586"),Object(p["a"])(x,g,_,!1,null,"92afb0d8",null));w.options.__file="IndexHeader.vue";var C=w.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b-search b-search__box sticky-box"},[i("div",{staticClass:"b-search__search",attrs:{role:"button"}},[i("router-link",{staticClass:"b-search__content",attrs:{to:""}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[i("path",{attrs:{"fill-opacity":".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"}})]),i("span",[t._v("搜索饿了么商家、商品名称")])])],1)])},k=[],I={name:"IndexSearch",components:{},props:{},data:function(){return{}},computed:{},methods:{}},L=I,T=(i("4469"),Object(p["a"])(L,S,k,!1,null,"192979a2",null));T.options.__file="IndexSearch.vue";var P=T.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-index-shoplist"},[n("section",{directives:[{name:"show",rawName:"v-show",value:t.noDataTipVisible,expression:"noDataTipVisible"}],staticClass:"b-index-shoplist__nodata"},[n("img",{attrs:{src:i("c5cb"),alt:""}}),n("h3",[t._v("附近没有外卖商家")]),n("p",[t._v("饿了么正在以光速来到你身边")])]),n("IndexShopListView",{directives:[{name:"show",rawName:"v-show",value:t.items.length,expression:"items.length"}]},t._l(t.items,function(t){return n("IndexShopListItem",{key:t.id,attrs:{item:t.restaurant}})})),n("InfiniteScroll",{ref:"infiniteScroll",staticClass:"b-index-shoplist__infinite",attrs:{handler:t.infiniteScrollHandler,state:t.state}})],1)},$=[],A=(i("c5f6"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b-index-listview b-index-listview__box"},[t._t("default")],2)}),O=[],M={name:"IndexShopListView",components:{},props:{},data:function(){return{}},computed:{},methods:{}},N=M,D=(i("b7d4"),Object(p["a"])(N,A,O,!1,null,"5d9ecab6",null));D.options.__file="IndexShopListView.vue";var j=D.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item?n("router-link",{staticClass:"b-item b-item__box",attrs:{to:{path:"/shop",query:{id:t.item.id}},tag:"div"}},[t.dislikeVisible?n("div",{staticClass:"b-item__mask",on:{click:function(e){e.stopPropagation(),t.dislikeVisible=!1}}},[n("div",{staticClass:"b-item__dislike-btn",on:{click:function(e){e.stopPropagation(),t.onDislike(t.item)}}},[t._v("不喜欢")])]):t._e(),n("div",{staticClass:"b-item__shop-info"},[n("div",{staticClass:"b-item__logo-wrap"},[t.item.is_new?n("div",{staticClass:"b-item__new-icon"},[n("span",[t._v("新店")])]):t._e(),n("img",{attrs:{src:t.$getImage(t.item.image_path,t.logoImgParam),alt:""}})]),n("div",{staticClass:"b-item__main-wrap"},[n("div",{staticClass:"b-item__info-line"},[n("h3",{staticClass:"b-item__shop-name"},[t.item.is_premium?n("Tag",{staticClass:"b-item__premium-icon"},[t._v("品牌")]):t._e(),n("span",{staticClass:"b-item__shop-name-text ellipsis"},[t._v(t._s(t.item.name))])],1),n("div",{staticClass:"b-item__support-wrap"},[t.item.recommend.is_ad?n("tag",{staticClass:"b-item__ad-icon"},[t._v(t._s(t.item.recommend.reason))]):t._e(),n("span",{staticClass:"b-item__omit-btn",on:{click:function(e){e.stopPropagation(),t.dislikeVisible=!0}}},[t._v("···")])],1)]),n("div",{staticClass:"b-item__info-line"},[n("div",{staticClass:"b-item__rating-misc-wrap"},[n("RatingStars",{staticClass:"b-item__stars",attrs:{value:t.item.rating}}),n("span",{staticClass:"b-item__rating"},[t._v(t._s(t.item.rating))]),n("span",{staticClass:"b-item__sales"},[t._v("月售"+t._s(t.item.recent_order_num)+"单")])],1),t.item.delivery_mode?n("div",{staticClass:"b-item__delivery"},[n("Tag",{staticClass:"b-item__delivery-tag",style:{backgroundColor:"#"+t.item.delivery_mode.color}},[t._v(t._s(t.item.delivery_mode.text))])],1):t._e()]),n("div",{staticClass:"b-item__info-line"},[n("div",{staticClass:"b-item__delivery-limit-wrap"},[n("span",[t._v("¥"+t._s(t.item.piecewise_agent_fee.rules[0].price)+"起送")]),n("span",{staticClass:"b-item__delivery-fee ellipsis"},[t._v("优惠配送费¥"+t._s(t.item.piecewise_agent_fee.rules[0].fee))])]),n("div",{staticClass:"b-item__time-distance-wrap"},[n("span",[t._v(t._s(t._f("formatDistance")(t.item.distance)))]),n("span",{staticClass:"b-item__delivery-time"},[t._v(t._s(t.item.order_lead_time)+"分钟")])])])])]),n("div",{staticClass:"b-item__tags-and-activities"},[n("div",{staticClass:"b-item__tag-line"},[t._l(t.supportTags,function(e,i){return n("Tag",{key:e.text+String(i)+t.item.id,staticClass:"b-item__support-tag"},[t._v(t._s(e.text))])}),t.recommendTag?n("span",{staticClass:"b-item__recommend-tag"},[n("img",{attrs:{src:t.recommendTagImg,alt:""}}),n("span",[t._v(t._s(t.recommendTag.text))])]):t._e()],2),t.item.activities?n("div",{staticClass:"b-item__activity-wrap"},[n("div",{staticClass:"b-item__activity-list"},t._l(t.item.activities,function(e,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:i<2||!t.activityListCollapsed,expression:"idx < 2 || !activityListCollapsed"}],key:e.id+String(i),staticClass:"b-item__activity-item"},[n("tag",{staticClass:"b-item__activity-item-icon",style:{backgroundColor:"#"+e.icon_color}},[t._v(t._s(e.icon_name))]),n("span",{staticClass:"b-item__activity-item-text ellipsis"},[t._v(t._s(e.description))])],1)})),t.item.activities.length>2?n("div",{staticClass:"b-item__activity-btn",class:{"b-item__activity-btn_expanded":t.activityListCollapsed},on:{click:function(e){return e.stopPropagation(),t.onToggleActivityList(e)}}},[n("span",[t._v(t._s(t.item.activities.length)+"个活动")]),n("img",{attrs:{src:i("81b3"),alt:""}})]):t._e()]):t._e()])]):t._e()},V=[],B=i("5ea5"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-star"},[t._m(0),n("div",{staticClass:"b-star__active",style:{width:Math.round(t.value/5*100)+"%"}},[n("img",{attrs:{src:i("b0cc"),alt:""}})])])},G=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-star__gray"},[n("img",{attrs:{src:i("f6b6"),alt:""}})])}],H=!1,R={name:"RatingStars",components:{},props:{value:{type:Number,default:5}},data:function(){return{}},computed:{},created:function(){H&&(window[this.$options.name]=this)},methods:{}},Y=R,q=(i("0662"),Object(p["a"])(Y,W,G,!1,null,"71b7eff4",null));q.options.__file="RatingStars.vue";var z=q.exports,J={name:"IndexShopListItem",components:{Tag:B["a"],RatingStars:z},filters:{formatDistance:function(t){return t>=1e3?Number(t/1e3).toFixed(2)+"km":t>=0?Number(t)+"m":""}},props:{item:{type:Object}},data:function(){return{activityListCollapsed:!0,dislikeVisible:!1,logoImgParam:"?imageMogr/format/webp/thumbnail/!130x130r/gravity/Center/crop/130x130/",recommendTagImg:"https://fuss10.elemecdn.com/a/c1/24c767ffa7fd296d3e2d6f01798c6png.png?imageMogr/format/webp/thumbnail/!20x20r/gravity/Center/crop/20x20/"}},computed:{supportTags:function(){try{return this.item.support_tags.filter(function(t){return"口碑人气好店"!==t.text})}catch(t){return[]}},recommendTag:function(){try{return this.item.support_tags.filter(function(t){return"口碑人气好店"===t.text})[0]}catch(t){return null}}},methods:{onToggleActivityList:function(){this.activityListCollapsed=!this.activityListCollapsed},onDislike:function(t){this.$emit("dislike",t),this.dislikeVisible=!1}}},K=J,Q=(i("8f05"),Object(p["a"])(K,F,V,!1,null,"14ec9f18",null));Q.options.__file="IndexShopListItem.vue";var U=Q.exports,X=i("854e"),Z=!0,tt={name:"IndexShopList",components:{IndexShopListView:j,IndexShopListItem:U,InfiniteScroll:X["a"]},props:{items:{type:Array},state:{type:[String,Number]}},data:function(){return{}},created:function(){Z&&(window[this.$options.name]=this)},computed:{noDataTipVisible:function(){return"empty"===this.state}},methods:{infiniteScrollHandler:function(t){this.$emit("infinite",t)},reset:function(t){var e=this;this.$nextTick(function(){e.resetScroll(),e.$nextTick(function(){e.$refs.infiniteScroll.reset(t)})})},resetScroll:function(){var t=this.$el.getBoundingClientRect(),e=Math.round(t.top),i=parseFloat(this.$toRpx(180));if(e<i){Z&&console.log("<IndexShopList> should update scrollTop");var n=window.scrollY+e-i;document.documentElement.scrollTop=n}}}},et=tt,it=(i("f44b"),Object(p["a"])(et,E,$,!1,null,"2bc6ba48",null));it.options.__file="IndexShopList.vue";var nt=it.exports,st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-index__main-entries b-entries b-entries__box"},[i("swipe",{staticClass:"b-entries__swipe",attrs:{auto:0,showIndicators:t.slicedEntries.length>1}},t._l(t.slicedEntries,function(e,n){return i("swipe-item",{key:n},[i("div",{staticClass:"b-entries__main-entries"},t._l(e,function(e){return i("router-link",{key:e.id,staticClass:"b-entries__main-entry",attrs:{to:""}},[i("div",{staticClass:"b-entries__main-entry-icon"},[i("img",{attrs:{src:t.$getImage(e.image_hash,t.mainEntryImgParam),alt:""}})]),i("p",{staticClass:"b-entries__main-entry-title"},[t._v(t._s(e.name))])])}))])}))],1)},at=[],rt=i("ada1"),ot={name:"IndexMainentries",components:{Swipe:rt["Swipe"],SwipeItem:rt["SwipeItem"]},props:{entries:{type:Array,default:function(){return[]}}},data:function(){return{mainEntryImgParam:"?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/"}},computed:{slicedEntries:function(){var t=this.entries;if(!t||!t.length)return t;var e,i=t.length,n=10,s=0,a=[];while(s<i)s%n===0&&a.push(e=[]),e.push(t[s++]);return a}},methods:{}},lt=ot,ct=(i("3391"),i("1598"),Object(p["a"])(lt,st,at,!1,null,"efd38bb2",null));ct.options.__file="IndexMainEntries.vue";var dt=ct.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.banners&&t.banners.length?i("div",{staticClass:"p-index__banners b-banners"},[i("swipe",{staticClass:"b-banners__swipe"},t._l(t.banners,function(e){return i("swipe-item",{key:e.id,staticClass:"b-banners__swipe-item"},[i("img",{attrs:{src:t.$getImage(e.image_hash,t.bannerImgParam),alt:""}})])}))],1):t._e()},ft=[],ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-swipe"},[i("div",{ref:"wrap",staticClass:"mint-swipe-items-wrap"},[t._t("default")],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showIndicators,expression:"showIndicators"}],staticClass:"mint-swipe-indicators"},t._l(t.pages,function(e,n){return i("div",{key:n,staticClass:"mint-swipe-indicator",class:{"is-active":n===t.index}})}))])},pt=[],vt=i("4732"),mt=i("726a"),gt={name:"mt-swipe",created:function(){this.dragState={}},data:function(){return{ready:!1,dragging:!1,userScrolling:!1,animating:!1,index:0,pages:[],timer:null,reInitTimer:null,noDrag:!1}},props:{speed:{type:Number,default:300},defaultIndex:{type:Number,default:0},disabled:{type:Boolean,default:!1},auto:{type:Number,default:3e3},continuous:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},noDragWhenSingle:{type:Boolean,default:!0},prevent:{type:Boolean,default:!1},propagation:{type:Boolean,default:!1}},methods:{swipeItemCreated:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},swipeItemDestroyed:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},translate:function(t,e,i,n){var s=this,a=arguments;if(i){this.animating=!0,t.style.webkitTransition="-webkit-transform "+i+"ms ease-in-out",setTimeout(function(){t.style.webkitTransform="translate3d(".concat(e,"px, 0, 0)")},50);var r=!1,o=function(){r||(r=!0,s.animating=!1,t.style.webkitTransition="",t.style.webkitTransform="",n&&n.apply(s,a))};Object(vt["once"])(t,"webkitTransitionEnd",o),setTimeout(o,i+100)}else t.style.webkitTransition="",t.style.webkitTransform="translate3d(".concat(e,"px, 0, 0)")},reInitPages:function(){var t=this,e=this.$children;this.noDrag=1===e.length&&this.noDragWhenSingle;var i=[];this.index=this.defaultIndex,e.forEach(function(e,n){i.push(e.$el),Object(mt["removeClass"])(e.$el,"is-active"),n===t.defaultIndex&&Object(mt["addClass"])(e.$el,"is-active")}),this.pages=i},doAnimate:function(t,e){var i=this;if(0!==this.$children.length&&(e||!(this.$children.length<2))){var n,s,a,r,o,l,c=this.speed||300,d=this.index,u=this.pages,f=u.length;e&&"goto"!==t?(n=e.prevPage,a=e.currentPage,s=e.nextPage,r=e.pageWidth,o=e.offsetLeft):(e=e||{},r=this.$el.clientWidth,a=u[d],"goto"===t?(n=e.prevPage,s=e.nextPage):(n=u[d-1],s=u[d+1]),this.continuous&&u.length>1&&(n||(n=u[u.length-1]),s||(s=u[0])),n&&(n.style.display="block",this.translate(n,-r)),s&&(s.style.display="block",this.translate(s,r)));var h=this.$children[d].$el;"prev"===t?(d>0&&(l=d-1),this.continuous&&0===d&&(l=f-1)):"next"===t?(d<f-1&&(l=d+1),this.continuous&&d===f-1&&(l=0)):"goto"===t&&e.newIndex>-1&&e.newIndex<f&&(l=e.newIndex);var p=function(){if(void 0!==l){var t=i.$children[l].$el;Object(mt["removeClass"])(h,"is-active"),Object(mt["addClass"])(t,"is-active"),i.index=l,i.$emit("change",l,d)}n&&(n.style.display=""),s&&(s.style.display="")};setTimeout(function(){"next"===t?(i.translate(a,-r,c,p),s&&i.translate(s,0,c)):"prev"===t?(i.translate(a,r,c,p),n&&i.translate(n,0,c)):"goto"===t?n?(i.translate(a,r,c,p),i.translate(n,0,c)):s&&(i.translate(a,-r,c,p),i.translate(s,0,c)):(i.translate(a,0,c,p),"undefined"!==typeof o?(n&&o>0&&i.translate(n,-1*r,c),s&&o<0&&i.translate(s,r,c)):(n&&i.translate(n,-1*r,c),s&&i.translate(s,r,c)))},10)}},next:function(){this.doAnimate("next")},prev:function(){this.doAnimate("prev")},goto:function(t){this.index!==t&&(t<this.index?this.doAnimate("goto",{newIndex:t,prevPage:this.pages[t]}):this.doAnimate("goto",{newIndex:t,nextPage:this.pages[t]}))},doOnTouchStart:function(t){if(!this.noDrag&&!this.disabled){var e=this.$el,i=this.dragState,n=t.changedTouches?t.changedTouches[0]:t;i.startTime=new Date,i.startLeft=n.pageX,i.startTop=n.pageY,i.startTopAbsolute=n.clientY,i.pageWidth=e.offsetWidth,i.pageHeight=e.offsetHeight;var s=this.$children[this.index-1],a=this.$children[this.index],r=this.$children[this.index+1];this.continuous&&this.pages.length>1&&(s||(s=this.$children[this.$children.length-1]),r||(r=this.$children[0])),i.prevPage=s?s.$el:null,i.dragPage=a?a.$el:null,i.nextPage=r?r.$el:null,i.prevPage&&(i.prevPage.style.display="block"),i.nextPage&&(i.nextPage.style.display="block")}},doOnTouchMove:function(t){if(!this.noDrag&&!this.disabled){var e=this.dragState,i=t.changedTouches?t.changedTouches[0]:t;e.currentLeft=i.pageX,e.currentTop=i.pageY,e.currentTopAbsolute=i.clientY;var n=e.currentLeft-e.startLeft,s=e.currentTopAbsolute-e.startTopAbsolute,a=Math.abs(n),r=Math.abs(s);if(a<5||a>=5&&r>=1.73*a)this.userScrolling=!0;else{this.userScrolling=!1,t.preventDefault(),n=Math.min(Math.max(1-e.pageWidth,n),e.pageWidth-1);var o=n<0?"next":"prev";if(e.prevPage&&"prev"===o)this.translate(e.prevPage,n-e.pageWidth);else if(e.nextPage&&"next"===o)this.translate(e.nextPage,n+e.pageWidth);else{var l=e.pageWidth,c=n,d=6;n=-1/d/l*c*(Math.abs(c)-2*l)}this.translate(e.dragPage,n)}}},doOnTouchEnd:function(){if(!this.noDrag&&!this.disabled){var t=this.dragState,e=new Date-t.startTime,i=null,n=t.currentLeft-t.startLeft,s=t.currentTop-t.startTop,a=t.pageWidth,r=this.index,o=this.pages.length;if(e<300){var l=Math.abs(n)<5&&Math.abs(s)<5;(isNaN(n)||isNaN(s))&&(l=!0),l&&this.$children[this.index].$emit("tap")}e<300&&void 0===t.currentLeft||((e<300||Math.abs(n)>a/2)&&(i=n<0?"next":"prev"),this.continuous||(0===r&&"prev"===i||r===o-1&&"next"===i)&&(i=null),this.$children.length<2&&(i=null),this.doAnimate(i,{offsetLeft:n,pageWidth:t.pageWidth,prevPage:t.prevPage,currentPage:t.dragPage,nextPage:t.nextPage}),this.dragState={})}},dragStartEvent:function(t){this.prevent&&t.preventDefault(),this.propagation&&t.stopPropagation(),this.animating||(this.dragging=!0,this.userScrolling=!1,this.doOnTouchStart(t))},dragMoveEvent:function(t){this.dragging&&this.doOnTouchMove(t)},dragEndEvent:function(t){if(this.userScrolling)return this.dragging=!1,void(this.dragState={});this.dragging&&(this.doOnTouchEnd(t),this.dragging=!1)}},destroyed:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this.reInitTimer&&(clearTimeout(this.reInitTimer),this.reInitTimer=null)},mounted:function(){var t=this;this.ready=!0,this.auto>0&&(this.timer=setInterval(function(){t.dragging||t.animating||t.next()},this.auto)),this.reInitPages();var e=this.$el;e.addEventListener("touchstart",this.dragStartEvent),e.addEventListener("touchmove",this.dragMoveEvent),e.addEventListener("touchend",this.dragEndEvent),e.addEventListener("mousedown",this.dragStartEvent),e.addEventListener("mousemove",this.dragMoveEvent),e.addEventListener("mouseup",this.dragEndEvent)}},_t=gt,bt=(i("2df6"),Object(p["a"])(_t,ht,pt,!1,null,null,null));bt.options.__file="swipe.vue";var yt=bt.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-swipe-item"},[t._t("default")],2)},wt=[],Ct={name:"mt-swipe-item",mounted:function(){this.$parent&&this.$parent.swipeItemCreated(this)},destroyed:function(){this.$parent&&this.$parent.swipeItemDestroyed(this)}},St=Ct,kt=Object(p["a"])(St,xt,wt,!1,null,null,null);kt.options.__file="swipe-item.vue";var It=kt.exports,Lt=!1,Tt={name:"IndexBanners",components:{Swipe:yt,SwipeItem:It},props:{banners:{type:Array}},data:function(){return{bannerImgParam:"?imageMogr/format/webp/thumbnail/568x/"}},computed:{},created:function(){Lt&&(window[this.$options.name]=this)},methods:{}},Pt=Tt,Et=(i("25d5"),i("a94e"),Object(p["a"])(Pt,ut,ft,!1,null,"97d2b54e",null));Et.options.__file="IndexBanners.vue";var $t=Et.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-filter sticky-box"},[t.filterOptions?n("aside",{staticClass:"b-filter__box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.sortDropdownVisible||t.filterDropdownVisible,expression:"sortDropdownVisible || filterDropdownVisible"}],staticClass:"b-filter__mask",on:{click:t.closeAllPanel}}),n("div",{staticClass:"b-filter__header"},[n("a",{staticClass:"b-filter__nav b-filter__nav-sorters ellipsis",class:{"b-filter__nav_active":t.checkSorterActive(t.insideSorterList,t.selectedSorter),"b-filter__nav_open":t.sortDropdownVisible},attrs:{href:"javascript:"},on:{click:t.onNavSorterClick}},[n("span",[t._v(t._s(t.selectedInsideSorterName))]),n("svg",{staticClass:"b-filter__dropdown-icon"},[n("use",{attrs:{"xlink:href":"#dropdown-icon"}})])]),t._l(t.outsideSorterList,function(e,i){return n("a",{key:e.name+i,staticClass:"b-filter__nav",class:{"b-filter__nav_active":t.checkSorterActive(e,t.selectedSorter)},attrs:{href:"javascript:"},on:{click:function(i){t.onSorterClick(e,"outside")}}},[n("span",[t._v(t._s(e.name))])])}),n("a",{staticClass:"b-filter__nav b-filter__nav-filters",class:{"b-filter__nav_active":t.checkSomeFilterSelected(),"b-filter__nav_open":t.filterDropdownVisible},attrs:{href:"javascript:"},on:{click:t.onNavFilterClick}},[n("span",[t._v("筛选")]),n("svg",{staticClass:"b-filter__more-filter-icon"},[n("use",{attrs:{"xlink:href":"#more-filter"}})])])],2),n("section",{staticClass:"b-filter__extend b-filter__extend-sorters",class:{"b-filter__extend_open":t.sortDropdownVisible}},[n("ul",t._l(t.insideSorterList,function(e,s){return n("li",{key:e.name+s,staticClass:"b-filter__sorter-item",class:{"b-filter__sorter-item_active":t.checkSorterActive(e,t.selectedSorter)},on:{click:function(i){t.onSorterClick(e)}}},[n("span",[t._v(t._s(e.name))]),n("img",{attrs:{src:i("8aba"),alt:""}})])}))]),n("section",{staticClass:"b-filter__extend b-filter__extend-filters",class:{"b-filter__extend_open":t.filterDropdownVisible}},[n("div",{staticClass:"b-filter__filter-selects"},[n("div",{staticClass:"b-filter__filter-select"},[n("div",{staticClass:"b-filter__filter-select-title"},[t._v("商家服务（可多选）")]),n("div",{staticClass:"b-filter__filter-options"},[t._l(t.deliverMode,function(e){return n("div",{key:e.id,staticClass:"b-filter__filter-option",class:{"b-filter__filter-option_active":t.checkFilterValueActive(e.id,t.filterPayload["delivery_mode"])},on:{click:function(i){t.filterPayload["delivery_mode"]=t.toggleArray(t.filterPayload["delivery_mode"],e.id)}}},[n("img",{staticClass:"b-filter__filter-option-icon",attrs:{src:t.$getImage(e.icon_hash,t.deliverModeIconParam)}}),n("span",{staticClass:"b-filter__filter-option-name"},[t._v(t._s(e.text))])])}),t._l(t.supportsGroup,function(e){return n("div",{key:e.id,staticClass:"b-filter__filter-option",class:{"b-filter__filter-option_active":t.checkFilterValueActive(e.id,t.filterPayload["support_ids"])},on:{click:function(i){t.filterPayload["support_ids"]=t.toggleArray(t.filterPayload["support_ids"],e.id)}}},[n("img",{staticClass:"b-filter__filter-option-icon",attrs:{src:t.$getImage(e.icon_hash,t.deliverModeIconParam)}}),n("span",{staticClass:"b-filter__filter-option-name"},[t._v(t._s(e.name))])])})],2)]),n("div",{staticClass:"b-filter__filter-select"},[n("div",{staticClass:"b-filter__filter-select-title"},[t._v("优惠活动（单选）")]),n("div",{staticClass:"b-filter__filter-options"},t._l(t.activityTypesGroup,function(e){return n("div",{key:e.id,staticClass:"b-filter__filter-option",class:{"b-filter__filter-option_active":t.checkFilterValueActive(e.id,t.filterPayload["activity_types"])},on:{click:function(i){t.filterPayload["activity_types"]=t.toggleValue(t.filterPayload["activity_types"],e.id)}}},[n("span",{staticClass:"b-filter__filter-option-name"},[t._v(t._s(e.name))])])}))]),n("div",{staticClass:"b-filter__filter-select"},[n("div",{staticClass:"b-filter__filter-select-title"},[t._v("人均消费")]),n("div",{staticClass:"b-filter__filter-options"},t._l(t.averageCostsGroup,function(e){return n("div",{key:e.id,staticClass:"b-filter__filter-option",class:{"b-filter__filter-option_active":t.checkFilterValueActive(e.id,t.filterPayload["cost_range"])},on:{click:function(i){t.filterPayload["cost_range"]=t.toggleValue(t.filterPayload["cost_range"],e.id)}}},[n("span",{staticClass:"b-filter__filter-option-name"},[t._v(t._s(e.description))])])}))])]),n("div",{staticClass:"b-filter__filter-btns"},[n("button",{staticClass:"b-filter__filter-btn b-filter__filter-btn-clear",on:{click:t.onFilterClear}},[t._v("清空")]),n("button",{staticClass:"b-filter__filter-btn b-filter__filter-btn-ok",on:{click:t.onFilterSubmit}},[t._v("确定")])])])]):t._e()])},Ot=[],Mt=i("6bde"),Nt=(i("456d"),i("9393")),Dt=i("8afe"),jt=!1,Ft={name:"IndexShopListFilter",components:{},props:{filterOptions:{type:Object}},data:function(){return{selectedInsideSorterName:"",selectedSorter:null,sortDropdownVisible:!1,filterDropdownVisible:!1,averageCostsGroupItems:[[null,20],[20,40],[40,60],[60,80],[80,100],[100,null]],filterPayload:{quality_union:null,order_by:null,delivery_mode:[],support_ids:[],activity_types:null,cost_range:null,cost_from:null,cost_to:null},deliverModeIconParam:"?imageMogr/format/webp/thumbnail/!24x24r/gravity/Center/crop/24x24/"}},computed:{insideSorterList:function(){try{return this.filterOptions.outside.inside_sort_filter}catch(t){return[]}},outsideSorterList:function(){try{return this.filterOptions.outside.outside_sort_filter}catch(t){return[]}},uniqueSorterKeys:function(){return this.insideSorterList.concat(this.outsideSorterList).reduce(function(t,e){return-1===t.indexOf(e.key)?Object(Dt["a"])(t).concat([e.key]):t},[])},filterGroupList:function(){return this.filterOptions.bar||{}},supportsGroup:function(){return this.filterGroupList["supports"]||[]},activityTypesGroup:function(){return this.filterGroupList["activity_types"]||[]},deliverMode:function(){var t=this.filterGroupList["delivery_mode"];return t?[t]:[]},averageCostsGroup:function(){var t=this.averageCostsGroupItems,e=function(t,e){return null==e?"¥".concat(t,"以上"):null==t?"¥".concat(e,"以下"):"¥".concat(t," - ¥").concat(e)};return t.map(function(t,i){var n=Object(Nt["a"])(t,2),s=n[0],a=n[1];return{description:e(s,a),id:i+1,from:s,to:a}})}},watch:{"filterOptions.outside.inside_sort_filter":function(t){this.initSelectedInsideSorterName(t)},"filterPayload.cost_range":function(t){if(jt&&console.log("filterPayload.cost_range changed"),null!==t){var e=this.averageCostsGroupItems[t-1];this.filterPayload["cost_from"]=e[0],this.filterPayload["cost_to"]=e[1]}else this.filterPayload["cost_from"]=null,this.filterPayload["cost_to"]=null},sortDropdownVisible:function(){this.watchModals()},filterDropdownVisible:function(){this.watchModals()}},created:function(){jt&&(window[this.$options.name]=this),jt&&console.log("<IndexShopListFilter> created"),this.initSelectedInsideSorterName(this.insideSorterList)},methods:{submit:function(){var t=this,e=["cost_range"],i=this.filterPayload;i=Object.keys(i).reduce(function(n,s){return-1!==e.indexOf(s)||t.isEmpty(i[s])||(n[s]=i[s]),n},{}),this.$emit("submit",i),jt&&console.log("<IndexShopListFilter> request payload:",i)},initSelectedInsideSorterName:function(t){var e;try{e=t[0].name}catch(t){e=""}this.selectedInsideSorterName=e},onNavSorterClick:function(){var t=this.sortDropdownVisible;t||(this.stick(),this.filterDropdownVisible=!1),this.sortDropdownVisible=!t},onNavFilterClick:function(){var t=this.filterDropdownVisible;t||(this.stick(),this.sortDropdownVisible=!1),this.filterDropdownVisible=!t},onSorterClick:function(t,e){var i=this.filterPayload,n=this.uniqueSorterKeys.filter(function(e){return e!==t.key});n.forEach(function(t){return i[t]=null}),i[t.key]=this.toggleValue(i[t.key],t.value),this.filterPayload=Object(r["a"])({},i),this.selectedSorter=t,this.selectedInsideSorterName="outside"===e?(this.insideSorterList[0]||{}).name||"":t.name,this.closeAllPanel(),this.submit()},onFilterClear:function(){this.filterPayload=Object(r["a"])({},this.filterPayload,{delivery_mode:[],support_ids:[],activity_types:null,cost_range:null})},onFilterSubmit:function(){this.closeAllPanel(),this.submit()},closeAllPanel:function(){this.filterDropdownVisible=!1,this.sortDropdownVisible=!1},toggleValue:function(t,e,i){var n=i&&i.toggle||!0;return t===e?n&&(t=null):t=e,t},toggleArray:function(t,e,i){if(!Array.isArray(t))throw new TypeError("first argument must be an array!");var n=i&&i.toggle||!0,s=-1;return t.some(function(t,i){return t===e&&(s=i,!0)}),t=Object(Dt["a"])(t),-1!==s?n&&t.splice(s,1):t.push(e),t},checkSorterActive:function(t,e){if(!e)return!1;var i=function(t,e){return t.key===e.key&&t.value===e.value};return Array.isArray(t)?t.some(function(t){return i(t,e)}):i(t,e)},checkFilterValueActive:function(t,e){return!!e&&(Array.isArray(e)?-1!==e.indexOf(t):t===e)},checkSomeFilterSelected:function(){var t=this,e=this.filterPayload;return["delivery_mode","support_ids","activity_types","cost_range"].some(function(i){return!t.isEmpty(e[i])})},stick:function(){var t=this.$el.getBoundingClientRect(),e=Math.round(t.top),i=parseFloat(this.$toRpx(100));if(e>i){jt&&console.log("<IndexShopListFilter> should update scrollTop");var n=window.scrollY+e-i;document.documentElement.scrollTop=n}},isEmpty:function(t){return null==t||("string"===typeof t&&!t||(!!(Array.isArray(t)&&t.length<=0)||"object"===Object(Mt["a"])(t)&&Object.keys(t).length<=0))},watchModals:function(){this.sortDropdownVisible||this.filterDropdownVisible?document.body.style.overflow="hidden":document.body.style.overflow=""}}},Vt=Ft,Bt=(i("eb3a"),Object(p["a"])(Vt,At,Ot,!1,null,"3c6da3bb",null));Bt.options.__file="IndexShopListFilter.vue";var Wt=Bt.exports,Gt=function(){return i.e("Geohash").then(i.t.bind(null,"e02a",7))},Ht=function(){return i.e("ShopContainer").then(i.bind(null,"a06e"))},Rt=!1,Yt={name:"Index",components:{IndexSkeleton:m,IndexHeader:C,IndexSearch:P,IndexShopList:nt,IndexMainEntries:dt,IndexBanners:$t,IndexShopListFilter:Wt,InfiniteScroll:X["a"],IndexShopListItem:U},props:{},data:function(){return{entryGroupMap:{},bannerList:[],filterOptions:{},restaurantList:[],loaded:!1,locState:2,offset:0,rankId:"",filterPayload:null,selectAddressVisible:!1,backTopVisible:!1,entriesLoaded:!1,listLoaded:!1,restaurantListState:"loaded",favourImgParam:"?imageMogr/format/webp/thumbnail/!240x160r/gravity/Center/crop/240x160/",geohashChanged:!1}},computed:Object(r["a"])({},Object(o["e"])({location:function(t){return{longitude:t.longitude,latitude:t.latitude,geohash:t.geohash,locationName:t.locationName}}}),Object(o["e"])(["latitude","longitude","geohash","locationName"]),{favourEntries:function(){var t=(this.entryGroupMap["优惠专区类型"]||{}).entries;return t&&t.length?t.map(function(t){try{t.population=JSON.parse(t.more).population}catch(t){}return t}):t}}),watch:{geohash:function(t,e){t!==e&&(this.geohashChanged=!0)}},created:function(){var t=this;return Rt&&(window[this.$options.name]=this),Rt&&console.log("<Index> created"),this.loaded=!1,Promise.resolve().then(function(){return t.geohash?t.locationName?Promise.resolve().then(function(){t.locState=1}).then(function(){return new Promise(function(t){return setTimeout(t,2e3)})}).then(function(){return t.loadData()}):t.callPoi({latitude:t.latitude,longitude:t.longitude}):t.locate()}).then(function(){return new Promise(function(t){return setTimeout(t,1e3)})}).then(function(){t.loaded=!0,t.$emit("load")},function(){t.loaded=!0,t.$emit("load")}).then(function(){Gt(),Ht()})},activated:function(){Rt&&console.log("<Index> activated"),this.geohashChanged&&(this.geohashChanged=!1,this.onChangeAddress())},mounted:function(){var t=this;window.addEventListener("scroll",Object(c["a"])(function(){t.backTopVisible=window.scrollY>1800}),100)},updated:function(){this.$emit("updated:index",this.$data)},methods:Object(r["a"])({loadData:function(){var t=this;return this.locState=2,Promise.resolve().then(function(){t.fetchEntryList().then(function(){t.entriesLoaded=!0}),t.fetchBatchFilter().then(function(){t.listLoaded=!0}),t.fetchRestaurantList(),t.fetchBannerList()})},callPoi:function(t){var e=this;return this.locState=1,this.reverseGeoCoding(t).then(function(t){return t},function(t){return t}).then(function(){return e.loadData()})},locate:function(){var t=this;return this.locState=0,this.getCurrentPosition().then(function(e){var i=e.coords,n=i.latitude,s=i.longitude;return t.$store.commit("SAVE_LOCATION",{latitude:n,longitude:s,geohash:""}),t.callPoi(i)}).catch(function(){return Gt(),t.$store.commit("SET_LOCATION_NAME","未能获取地址"),Promise.resolve().then(function(){return new Promise(function(t){return setTimeout(t,2e3)})}).then(function(){return t.chooseAddress()}).then(function(){return new Promise(function(t){return setTimeout(t,800)})}).then(function(){t.locState=3})})},fetchEntryList:function(){var t=this;return Object(l["l"])({latitude:this.latitude,longitude:this.longitude}).then(function(e){t.entryGroupMap=e.reduce(function(t,e){return Object(r["a"])({},t,Object(a["a"])({},e.group_name,e))},{})})},fetchBannerList:function(){var t=this;return Object(l["b"])({latitude:this.latitude,longitude:this.longitude}).then(function(e){t.bannerList=e})},fetchBatchFilter:function(){var t=this;return Object(l["d"])({latitude:this.latitude,longitude:this.longitude}).then(function(e){t.filterOptions=e})},fetchRestaurantList:function(){var t=this;return this.restaurantListState="loading",Object(l["q"])(Object(r["a"])({latitude:this.latitude,longitude:this.longitude,offset:this.offset},this.filterPayload)).then(function(e){var i,n=e.items,s=e.rank_id;return 0===t.offset?t.restaurantList=n:t.restaurantList=t.restaurantList.concat(n),t.rankId=s,t.offset=t.restaurantList.length,i=t.offset?n.length?"loaded":"complete":"empty",t.restaurantListState=i}).catch(function(){return t.restaurantListState="loaded"})}},Object(o["b"])(["reverseGeoCoding","getCurrentPosition"]),{chooseAddress:function(){this.$router.push("/index/address")},onSubmitFilters:function(t){this.filterPayload=t,this.offset=0,this.restaurantList=[],this.restaurantListState="loaded",this.$refs.infinite.reset()},onInifiniteScroll:function(){Rt&&console.log("<Index> handle infinite event"),this.fetchRestaurantList()},onChangeAddress:function(){this.offset=0,this.restaurantList=[],this.restaurantListState="loaded",this.$refs.infinite&&this.$refs.infinite.reset(!1),this.loadData()},closeSelectAddress:function(){this.$router.back()},onBackTop:function(){document.documentElement.scrollTop=0}})},qt=Yt,zt=(i("4177"),Object(p["a"])(qt,n,s,!1,null,"fa556190",null));zt.options.__file="Index.vue";var Jt=zt.exports;i.d(e,"default",function(){return Jt})},"5fe0":function(t,e,i){},"6ee6":function(t,e,i){},"6ffb":function(t,e,i){},"726a":function(t,e){var i=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},n=function(t,e){if(!t||!e)return!1;if(-1!=e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},s=function(t,e){if(t){for(var i=t.className,s=(e||"").split(" "),a=0,r=s.length;a<r;a++){var o=s[a];o&&(t.classList?t.classList.add(o):n(t,o)||(i+=" "+o))}t.classList||(t.className=i)}},a=function(t,e){if(t&&e){for(var s=e.split(" "),a=" "+t.className+" ",r=0,o=s.length;r<o;r++){var l=s[r];l&&(t.classList?t.classList.remove(l):n(t,l)&&(a=a.replace(" "+l+" "," ")))}t.classList||(t.className=i(a))}};t.exports={hasClass:n,addClass:s,removeClass:a}},"81b3":function(t,e,i){t.exports=i.p+"img/arrow.3b0b3f0f.svg"},"854e":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"infinite",staticClass:"infinite-scroll"},[i("div",{staticClass:"infinite-scroll__trigger"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.triggerBarVisible,expression:"triggerBarVisible"}],staticClass:"infinite-scroll__loading"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}],staticClass:"infinite-scroll__loading-default"},[t._m(0)])]),t.complete?i("div",{staticClass:"infinite-scroll__completed"},[t._v("没有更多了哦~")]):t._e()])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sk-fading-circle"},[i("div",{staticClass:"sk-circle1 sk-circle"}),i("div",{staticClass:"sk-circle2 sk-circle"}),i("div",{staticClass:"sk-circle3 sk-circle"}),i("div",{staticClass:"sk-circle4 sk-circle"}),i("div",{staticClass:"sk-circle5 sk-circle"}),i("div",{staticClass:"sk-circle6 sk-circle"}),i("div",{staticClass:"sk-circle7 sk-circle"}),i("div",{staticClass:"sk-circle8 sk-circle"}),i("div",{staticClass:"sk-circle9 sk-circle"}),i("div",{staticClass:"sk-circle10 sk-circle"}),i("div",{staticClass:"sk-circle11 sk-circle"}),i("div",{staticClass:"sk-circle12 sk-circle"})])}],a=(i("cadf"),i("551c"),i("097d"),!1),r={name:"InfiniteScroll",components:{},props:{handler:{type:Function},state:{type:String}},data:function(){return{loaded:!0,complete:!1,empty:!1,elBottom:null,vpBottom:null,touched:!1}},computed:{triggerBarVisible:function(){return!this.complete||!this.empty}},watch:{state:function(t,e){t!==e&&this.setState(t)}},created:function(){window.addEventListener("scroll",this.scrollHandler),window.addEventListener("resize",this.scrollHandler),this.setState(this.state)},activated:function(){},deactivated:function(){},destroyed:function(){window.removeEventListener("scroll",this.scrollHandler),window.addEventListener("resize",this.scrollHandler)},methods:{scrollHandler:function(){var t=this;if(this.loaded&&!this.complete&&!this.empty){var e=this.$refs.infinite,i=e.getBoundingClientRect(),n=Math.round(i.bottom),s=window.innerHeight,r=n-s<=50;this.elBottom=n,this.vpBottom=s,this.touched=r,a&&console.log("<InfiniteScroll> shouldHandle"),r&&this.handler&&(this.$emit("infinite"),a&&console.log("<InfiniteScroll> trigger infinite"),this.setState("loading"),this.handler(function(e){t.setState(e)}))}},reset:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loaded=!0,this.complete=!1,this.empty=!1,t&&this.scrollHandler()},setState:function(t){"loading"===t?(this.loaded=!1,this.complete=!1,this.empty=!1):"loaded"===t?(this.loaded=!0,this.complete=!1,this.empty=!1,this.$emit("loaded")):"complete"===t?(this.loaded=!0,this.complete=!0,this.empty=!1,this.$emit("complete")):"empty"===t&&(this.loaded=!0,this.complete=!1,this.empty=!0,this.$emit("empty"))}}},o=r,l=(i("43be"),i("2e90"),i("2877")),c=Object(l["a"])(o,n,s,!1,null,"28764ee4",null);c.options.__file="InfiniteScroll.vue";var d=c.exports;i.d(e,"a",function(){return d})},"865f":function(t,e,i){"use strict";var n=i("5fe0"),s=i.n(n);s.a},"8aba":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAkFJREFUSA3tlbtrVFEQxr/JusEkdqYR0mU3EGyECCKCIEIghIgSfBSCCkbwWqTQykoQ41+QbHaRRC0MSDCgjeADO0ERQRBB10YsU/gC89jd8ZuNez17H7gmN2BxT7Fnzpw587vzzbl3gXSkCqQKJKSAJJQnlKb3huawjDkCZj94KIiIukGbAs5P636t4h5J2w1GyHz5ghx1wW3uIgm7b0pPaQ2PHOg3tGEimDsxsKpKbkonqoqbqmivgwRLksFI+by8DoITkXqgqJ1fq7hN4GgDwMQVajxa9uR+w+fOW9zFeuz+ou74UoEl3+2fFyilPPs+BmpxkVLnpnVvflLHTT4/WYSRL+mu1QpecOsPlAseukTorYgjviuU2F4DWcFzytbNqCfSjtPlMfnsn/htsJ+HoLjDS9Tl7ongOuW97Pqi7FDFslzvlUFtHNRVvOkr6Im15dpvb0Ev8sEWglCWWmoFallCFeeLuqdWxVNW0+nCaM9JB8bxE9cIHAvsWaL5kx6OXxGpBfei1iGwBeUmdYTdXSA84x6ijCv+q9K0gcdbuzH89hib1OIISW3n+JV5wMkL5oiBviT0yL9ALW8k2DY+elLidNXsuEEF3mW7METoj7iYOH+k1G4wb+8MKz3j+uq24JNksS/qxodiIxyxFTdie/pxjk/3sLG2mZUu8sszuF5oPYebMM7eeVe3LS3iGS/bAKHfeasPsBWv4uJb8f+1YktiPezIYth6mhEc3ii0lQdriuGfQbbJkS5SBf5HBX4Bvl6o9YDxgOsAAAAASUVORK5CYII="},"8f05":function(t,e,i){"use strict";var n=i("53ba"),s=i.n(n);s.a},"93df":function(t,e,i){},9499:function(t,e,i){},"9ee9":function(t,e,i){},a3c4:function(t,e,i){},a94e:function(t,e,i){"use strict";var n=i("e545"),s=i.n(n);s.a},ada1:function(t,e){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=9)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"mt-swipe-item",mounted:function(){this.$parent&&this.$parent.swipeItemCreated(this)},destroyed:function(){this.$parent&&this.$parent.swipeItemDestroyed(this)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),s=i(6);e.default={name:"mt-swipe",created:function(){this.dragState={}},data:function(){return{ready:!1,dragging:!1,userScrolling:!1,animating:!1,index:0,pages:[],timer:null,reInitTimer:null,noDrag:!1}},props:{speed:{type:Number,default:300},defaultIndex:{type:Number,default:0},disabled:{type:Boolean,default:!1},auto:{type:Number,default:3e3},continuous:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},noDragWhenSingle:{type:Boolean,default:!0},prevent:{type:Boolean,default:!1},propagation:{type:Boolean,default:!1}},methods:{swipeItemCreated:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},swipeItemDestroyed:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},translate:function(t,e,i,s){var a=this,r=arguments;if(i){this.animating=!0,t.style.webkitTransition="-webkit-transform "+i+"ms ease-in-out",setTimeout(function(){t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},50);var o=!1,l=function(){o||(o=!0,a.animating=!1,t.style.webkitTransition="",t.style.webkitTransform="",s&&s.apply(a,r))};(0,n.once)(t,"webkitTransitionEnd",l),setTimeout(l,i+100)}else t.style.webkitTransition="",t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},reInitPages:function(){var t=this,e=this.$children;this.noDrag=1===e.length&&this.noDragWhenSingle;var i=[];this.index=this.defaultIndex,e.forEach(function(e,n){i.push(e.$el),(0,s.removeClass)(e.$el,"is-active"),n===t.defaultIndex&&(0,s.addClass)(e.$el,"is-active")}),this.pages=i},doAnimate:function(t,e){var i=this;if(0!==this.$children.length&&(e||!(this.$children.length<2))){var n,a,r,o,l,c,d=this.speed||300,u=this.index,f=this.pages,h=f.length;e&&"goto"!==t?(n=e.prevPage,r=e.currentPage,a=e.nextPage,o=e.pageWidth,l=e.offsetLeft):(e=e||{},o=this.$el.clientWidth,r=f[u],"goto"===t?(n=e.prevPage,a=e.nextPage):(n=f[u-1],a=f[u+1]),this.continuous&&f.length>1&&(n||(n=f[f.length-1]),a||(a=f[0])),n&&(n.style.display="block",this.translate(n,-o)),a&&(a.style.display="block",this.translate(a,o)));var p=this.$children[u].$el;"prev"===t?(u>0&&(c=u-1),this.continuous&&0===u&&(c=h-1)):"next"===t?(u<h-1&&(c=u+1),this.continuous&&u===h-1&&(c=0)):"goto"===t&&e.newIndex>-1&&e.newIndex<h&&(c=e.newIndex);var v=function(){if(void 0!==c){var t=i.$children[c].$el;(0,s.removeClass)(p,"is-active"),(0,s.addClass)(t,"is-active"),i.index=c,i.$emit("change",c,u)}n&&(n.style.display=""),a&&(a.style.display="")};setTimeout(function(){"next"===t?(i.translate(r,-o,d,v),a&&i.translate(a,0,d)):"prev"===t?(i.translate(r,o,d,v),n&&i.translate(n,0,d)):"goto"===t?n?(i.translate(r,o,d,v),i.translate(n,0,d)):a&&(i.translate(r,-o,d,v),i.translate(a,0,d)):(i.translate(r,0,d,v),void 0!==l?(n&&l>0&&i.translate(n,-1*o,d),a&&l<0&&i.translate(a,o,d)):(n&&i.translate(n,-1*o,d),a&&i.translate(a,o,d)))},10)}},next:function(){this.doAnimate("next")},prev:function(){this.doAnimate("prev")},goto:function(t){this.index!==t&&(t<this.index?this.doAnimate("goto",{newIndex:t,prevPage:this.pages[t]}):this.doAnimate("goto",{newIndex:t,nextPage:this.pages[t]}))},doOnTouchStart:function(t){if(!this.noDrag&&!this.disabled){var e=this.$el,i=this.dragState,n=t.changedTouches?t.changedTouches[0]:t;i.startTime=new Date,i.startLeft=n.pageX,i.startTop=n.pageY,i.startTopAbsolute=n.clientY,i.pageWidth=e.offsetWidth,i.pageHeight=e.offsetHeight;var s=this.$children[this.index-1],a=this.$children[this.index],r=this.$children[this.index+1];this.continuous&&this.pages.length>1&&(s||(s=this.$children[this.$children.length-1]),r||(r=this.$children[0])),i.prevPage=s?s.$el:null,i.dragPage=a?a.$el:null,i.nextPage=r?r.$el:null,i.prevPage&&(i.prevPage.style.display="block"),i.nextPage&&(i.nextPage.style.display="block")}},doOnTouchMove:function(t){if(!this.noDrag&&!this.disabled){var e=this.dragState,i=t.changedTouches?t.changedTouches[0]:t;e.currentLeft=i.pageX,e.currentTop=i.pageY,e.currentTopAbsolute=i.clientY;var n=e.currentLeft-e.startLeft,s=e.currentTopAbsolute-e.startTopAbsolute,a=Math.abs(n),r=Math.abs(s);if(a<5||a>=5&&r>=1.73*a)this.userScrolling=!0;else{this.userScrolling=!1,t.preventDefault();var o=(n=Math.min(Math.max(1-e.pageWidth,n),e.pageWidth-1))<0?"next":"prev";if(e.prevPage&&"prev"===o)this.translate(e.prevPage,n-e.pageWidth);else if(e.nextPage&&"next"===o)this.translate(e.nextPage,n+e.pageWidth);else{var l=e.pageWidth,c=n;n=-1/6/l*c*(Math.abs(c)-2*l)}this.translate(e.dragPage,n)}}},doOnTouchEnd:function(){if(!this.noDrag&&!this.disabled){var t=this.dragState,e=new Date-t.startTime,i=null,n=t.currentLeft-t.startLeft,s=t.currentTop-t.startTop,a=t.pageWidth,r=this.index,o=this.pages.length;if(e<300){var l=Math.abs(n)<5&&Math.abs(s)<5;(isNaN(n)||isNaN(s))&&(l=!0),l&&this.$children[this.index].$emit("tap")}e<300&&void 0===t.currentLeft||((e<300||Math.abs(n)>a/2)&&(i=n<0?"next":"prev"),this.continuous||(0===r&&"prev"===i||r===o-1&&"next"===i)&&(i=null),this.$children.length<2&&(i=null),this.doAnimate(i,{offsetLeft:n,pageWidth:t.pageWidth,prevPage:t.prevPage,currentPage:t.dragPage,nextPage:t.nextPage}),this.dragState={})}},dragStartEvent:function(t){this.prevent&&t.preventDefault(),this.propagation&&t.stopPropagation(),this.animating||(this.dragging=!0,this.userScrolling=!1,this.doOnTouchStart(t))},dragMoveEvent:function(t){this.dragging&&this.doOnTouchMove(t)},dragEndEvent:function(t){if(this.userScrolling)return this.dragging=!1,void(this.dragState={});this.dragging&&(this.doOnTouchEnd(t),this.dragging=!1)}},destroyed:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this.reInitTimer&&(clearTimeout(this.reInitTimer),this.reInitTimer=null)},mounted:function(){var t=this;this.ready=!0,this.auto>0&&(this.timer=setInterval(function(){t.dragging||t.animating||t.next()},this.auto)),this.reInitPages();var e=this.$el;e.addEventListener("touchstart",this.dragStartEvent),e.addEventListener("touchmove",this.dragMoveEvent),e.addEventListener("touchend",this.dragEndEvent),e.addEventListener("mousedown",this.dragStartEvent),e.addEventListener("mousemove",this.dragMoveEvent),e.addEventListener("mouseup",this.dragEndEvent)}}},function(t,e,i){"use strict";function n(t,e,i,n,s,a,r,o){var l=typeof(t=t||{}).default;"object"!==l&&"function"!==l||(t=t.default);var c,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),a&&(d._scopeId=a),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=c):s&&(c=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),c)if(d.functional){d._injectStyles=c;var u=d.render;d.render=function(t,e){return c.call(e),u(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:d}}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mint-swipe-item"},[this._t("default")],2)},s=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mint-swipe"},[i("div",{ref:"wrap",staticClass:"mint-swipe-items-wrap"},[t._t("default")],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showIndicators,expression:"showIndicators"}],staticClass:"mint-swipe-indicators"},t._l(t.pages,function(e,n){return i("div",{key:n,staticClass:"mint-swipe-indicator",class:{"is-active":n===t.index}})}))])},s=[]},function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var r=i(3),o=i(2),l=Object(o.a)(s.a,r.a,r.b,!1,null,null,null);e.default=l.exports},function(t,e,i){"use strict";var n=function(t,e){if(!t||!e)return!1;if(-1!=e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1};t.exports={hasClass:n,addClass:function(t,e){if(t){for(var i=t.className,s=(e||"").split(" "),a=0,r=s.length;a<r;a++){var o=s[a];o&&(t.classList?t.classList.add(o):n(t,o)||(i+=" "+o))}t.classList||(t.className=i)}},removeClass:function(t,e){if(t&&e){for(var i=e.split(" "),s=" "+t.className+" ",a=0,r=i.length;a<r;a++){var o=i[a];o&&(t.classList?t.classList.remove(o):n(t,o)&&(s=s.replace(" "+o+" "," ")))}t.classList||(t.className=(s||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}}}},function(t,e,i){"use strict";var n=document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)},s=document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)};t.exports={on:n,off:s,once:function(t,e,i){n(t,e,function n(){i&&i.apply(this,arguments),s(t,e,n)})}}},function(t,e,i){"use strict";i.r(e);var n=i(1),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var r=i(4),o=i(2),l=function(t){i(14)},c=Object(o.a)(s.a,r.a,r.b,!1,l,null,null);e.default=c.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SwipeItem=e.Swipe=void 0;var n=a(i(8)),s=a(i(5));function a(t){return t&&t.__esModule?t:{default:t}}e.Swipe=n.default,e.SwipeItem=s.default},,,,,function(t,e){}])},b0cc:function(t,e,i){t.exports=i.p+"img/stars-active.77db2273.svg"},b7d4:function(t,e,i){"use strict";var n=i("1640"),s=i.n(n);s.a},c5cb:function(t,e,i){t.exports=i.p+"img/index-no-result.2508019f.gif"},d1b4:function(t,e,i){},e47d:function(t,e,i){},e545:function(t,e,i){},e6d9:function(t,e,i){t.exports=i.p+"img/backtop.50da3c17.svg"},e933:function(t,e,i){},eb3a:function(t,e,i){"use strict";var n=i("5e71"),s=i.n(n);s.a},f0eb:function(t,e,i){},f44b:function(t,e,i){"use strict";var n=i("e47d"),s=i.n(n);s.a},f6b6:function(t,e,i){t.exports=i.p+"img/stars-gray.b7cbf04a.svg"}}]);
//# sourceMappingURL=Index.5da745e1.js.map